---
name: Checkbox
---

import { Checkbox, useCheckboxState } from './Checkbox';
import { Playground, Props } from 'docz';

# Checkbox

<Props of={Checkbox} />

Pretty Checkbox React (PCR) is flexible and allows you to completely control the state of the checkbox yourself.
While there are a few ways of doing this, we recommend using the `useCheckboxState` hook to make this happen.
Of course, you may control checkbox state using `checked` and `onChange` props if you fancy too.

## Basic Usage with `useCheckboxState`

<Playground>
    {() => {
        const checkbox = useCheckboxState();

        return (
            <Checkbox {...checkbox}>
                Basic Checkbox with Hooks
            </Checkbox>
        );
    }}
</Playground>

## Basic Usage with Hooks

<Playground>
    {() => {
        const [checked, dispatch] = React.useReducer(state => !state, false);

        return (
            <Checkbox fill="thick" checked={checked} onChange={dispatch}>
                Controlled
            </Checkbox>
        );
    }}

</Playground>

## Basic Usage without Hooks

Not on the hooks train yet? No worries üòâ

<Playground>
    {class MyCheckbox extends React.Component {
            constructor() {
                this.state = { checked: false };
                this.toggleCheckbox = this.toggleCheckbox.bind(this);
            }

            toggleCheckbox() {
                this.setState({ checked: !this.state.checked });
            }

            render() {
                return (
                    <Checkbox
                        variant="curve"
                        checked={this.state.checked}
                        onChange={this.toggleCheckbox}>
                        Basic Checkbox without Hooks
                    </Checkbox>
                );
            }
        }}

</Playground>

## Indeterminate

Indeterminate, or tri-state, checkboxes in React are a source of pain. No, really. It's a [legitimate problem](https://github.com/facebook/react/issues/1798).
Thankfully PCR takes care of that for you. PCR internally creates a `ref` on you behalf. You can always supply your own `ref`
if you need extra control and we'll use that instead!

<Playground>
    {() => {
        const checkbox = useCheckboxState();

        const handleMakeIndeterminate = React.useCallback(() => {
            checkbox.setState('indeterminate');
        }, [checkbox.setState]);

        return (
            <>
                <Checkbox
                    variant="curve"
                    icon={{
                        icon: (
                            <i className="material-icons">
                                {checkbox.state !== 'indeterminate'
                                    ? 'check'
                                    : 'remove'}
                            </i>
                        ),
                        type: 'icon'
                    }}
                    {...checkbox}>
                    Indeterminate
                </Checkbox>
                <button onClick={handleMakeIndeterminate}>Apply</button>
            </>
        );
    }}
</Playground>

Toy examples aside, here's something a tad more realistic:

<Playground>
    {() => {
        // example lifted from https://reakit.io/docs/checkbox/
        function useTreeState({ values }) {
            const group = useCheckboxState();
            const items = useCheckboxState();

            React.useEffect(() => {
                if (group.state === true) {
                    items.setState(values);
                } else if (group.state === false) {
                    items.setState([]);
                }
            }, [group.state]);

            React.useEffect(() => {
                if (items.state.length === values.length) {
                    group.setState(true);
                } else if (items.state.length) {
                    group.setState('indeterminate');
                } else {
                    group.setState(false);
                }
            }, [items.state]);

            return { group, items };
        }

        const Example = () => {
            const values = ['Apple', 'Orange', 'Watermelon'];
            const { group, items } = useTreeState({ values });

            return (
                <ul>
                    <li>
                        <Checkbox
                            {...group}
                            icon={{
                                icon: (
                                    <i className="material-icons">
                                        {group.state !== 'indeterminate'
                                            ? 'check'
                                            : 'remove'}
                                    </i>
                                ),
                                type: 'icon',
                            }}>
                            Fruits
                        </Checkbox>
                    </li>
                    <ul>
                        {values.map((value, i) => (
                            <li key={i}>
                                <Checkbox
                                    {...items}
                                    value={value}
                                    icon={{ icon: <i className="material-icons">check</i>, type: 'icon' }}>
                                    {value}
                                </Checkbox>
                            </li>
                        ))}
                    </ul>
                </ul>
            );
        };

        return <Example />;
    }}
</Playground>

## Checkbox Variants

The awesome underlying CSS library that powers PCR offers various combinations of fill modes and variants. Here's a comprenhesive list:

### Square Checkbox

<Playground>
    <>
        <Checkbox checked>Default</Checkbox>
        <Checkbox fill="fill" checked>
            Fill
        </Checkbox>
        <Checkbox fill="thick" checked>
            Thick
        </Checkbox>
    </>
</Playground>

### Curved Checkbox

<Playground>
    <>
        <Checkbox variant="curve" checked>
            Default
        </Checkbox>
        <Checkbox variant="curve" fill="fill" checked>
            Fill
        </Checkbox>
        <Checkbox variant="curve" fill="thick" checked>
            Thick
        </Checkbox>
    </>
</Playground>

### Round Checkbox

<Playground>
    <>
        <Checkbox variant="round" checked>
            Default
        </Checkbox>
        <Checkbox variant="round" fill="fill" checked>
            Fill
        </Checkbox>
        <Checkbox variant="round" fill="thick" checked>
            Thick
        </Checkbox>
    </>
</Playground>

## Disabled and Locked Checkbox

<Playground>
    <>
        <Checkbox variant="round" checked locked>
            Locked
        </Checkbox>
        <Checkbox variant="round" fill="fill" checked disabled>
            Disabled
        </Checkbox>
    </>
</Playground>

## Animations

The CSS library that powers PCR comes with lovely in-house animatons, five to be exact.

* smooth
* pulse
* jelly - requires an icon
* tada - requires an icon
* rotate - requires an icon

<Playground>
    {() => {
        const items = useCheckboxState([]);

        return (
            <>
                <Checkbox animation="smooth" value="smooth" {...items}>
                    Smooth
                </Checkbox>
                <Checkbox
                    animation="jelly"
                    variant="round"
                    value="jelly"
                    icon={{
                        type: 'icon',
                        icon: <i className="material-icons">check</i>
                    }}
                    color="primary"
                    {...items}>
                    Jelly
                </Checkbox>
                <Checkbox
                    animation="tada"
                    value="tada"
                    color="danger"
                    icon={{
                        type: 'icon',
                        icon: <i className="material-icons">whatshot</i>
                    }}
                    {...items}>
                    Tada
                </Checkbox>
                <Checkbox
                    animation="pulse"
                    value="pulse"
                    color="warning"
                    icon={{
                        type: 'icon',
                        icon: <i className="material-icons">wb_sunny</i>
                    }}
                    {...items}>
                    Pulse
                </Checkbox>
                <Checkbox
                    animation="rotate"
                    value="rotate"
                    icon={{
                        type: 'icon',
                        icon: <i className="material-icons">rotate_right</i>
                    }}
                    {...items}>
                    Rotate
                </Checkbox>
            </>
        );
    }}
</Playground>


## Custom Rendering

Need something custom? No worries üëç. We got your back. You can supply a child render function to any component and have full
control over the `.state` element of [pretty checkbox](https://lokesh-coder.github.io/pretty-checkbox/).

As a convenience to you, PCR will give you the following props:

-   `color: string`
-   `icon: { type: 'image' | 'svg' | 'icon' | null, icon: React.Node | null }`

```jsx
// node is the svg, icon, or image node
<Checkbox>
    {({ color, icon }) => (
        <div className={`state p-${color}`}>
            <label>My custom label</label>
            {icon.icon}
        </div>
    )}
</Checkbox>
```
